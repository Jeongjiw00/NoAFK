<!DOCTYPE html>
<html lang="ko">
  <head>
    {% include "head.html" %}
    <title>{{pageTitle}} | NoAFK</title>
    <link rel="stylesheet" href="/./css/admin.css" />
  </head>
  <body>
    <header id="hd">
      <div id="hd_top">
        <div id="logo">
          <a href="/admin/users">어드민 페이지</a>
        </div>

        <div id="tnb">
          <ul>
            <li class="tnb_li">
              <a href="/admin/users" class="tnb_service">회원관리</a>
            </li>
            <li class="tnb_li">
              <a href="/admin/projects" class="tnb_service">공고관리</a>
            </li>
            <li class="tnb_li_logout">
              <a href="/api/auth/logout" class="tnb_service">로그아웃</a>
            </li>
          </ul>
        </div>
      </div>
    </header>

    <div id="wrapper">
      <div id="container" class="container-small">
        <h1 id="container_title">회원관리</h1>
        <div class="container_wr">
          <div class="local_ov01 local_ov">
            <span class="btn_ov01"
              ><span class="ov_txt">총회원수 </span
              ><span class="ov_num">{{count}}</span></span
            >
          </div>

          <form id="formSearch" class="local_sch01 local_sch">
            <select name="sfl" id="sfl">
              <option value="user_email">이메일</option>
              <option value="user_nickname">닉네임</option>
            </select>
            <input
              type="text"
              name="stx"
              id="stx"
              placeholder="검색어를 입력하세요"
              required
              class="required frm_input"
            />
            <input type="submit" value="검색" class="btn_submit" />
          </form>

          <div class="tbl_head01 tbl_wrap">
            <table>
              <thead>
                <tr>
                  <th scope="col" class="user_list_id td_mng_s">회원번호</th>
                  <th scope="col" class="user_list_email">이메일</th>
                  <th scope="col" class="user_list_nickname">닉네임</th>
                  <th scope="col" class="user_list_introduction">자기소개</th>
                  <th scope="col" class="user_list_test_result">성격유형</th>
                  <th scope="col" class="user_list_expired_at">
                    멤버쉽 만료일
                  </th>
                  <th scope="col" class="user_list_auth_level" class="td_mng_s">
                    권한등급
                  </th>
                  <th scope="col" class="user_list_control td_mng_s">관리</th>
                </tr>
              </thead>
              {% if users.length > 0 %}
              <tbody id="usersList">
                <!-- 유저리스트 -->

                <div id="user_wr">
                  {% for user in users %}
                  <tr class="block{{user.authLevel}}">
                    <td headers="user_list_id" class="user_id">{{user.id}}</td>
                    <td headers="user_list_email" class="user_email">
                      {{user.email}}
                    </td>
                    <td headers="user_list_nickname" class="user_nickname">
                      {{user.nickname}}
                    </td>
                    <td
                      headers="user_list_introduction"
                      class="user_introduction"
                    >
                      {{user.introduction}}
                    </td>
                    <td
                      headers="user_list_test_result"
                      class="user_test_result"
                    >
                      {{user.testResult}}
                    </td>
                    <td headers="user_list_expired_at" class="user_expired_at">
                      {{user.expiredAt}}
                    </td>
                    <td headers="user_list_auth_level" class="user_auth_level">
                      {{user.authLevel}}
                    </td>
                    <td headers="user_list_control" class="user_control">
                      <a
                        class="btn btn_03 block-user"
                        href="#"
                        data-user-id="{{ user.id }}"
                        >차단</a
                      >
                      <a
                        class="btn btn_02 delete-user"
                        href="#"
                        data-user-id="{{ user.id }}"
                        >삭제</a
                      >
                    </td>
                  </tr>

                  {% endfor %}
                </div>
              </tbody>
              {% else %}
              <h1 id="searchNotFound">검색된 유저정보가 없습니다.</h1>
              {% endif %}
            </table>
          </div>
          <nav aria-label="Page navigation">
            <ul class="pagination" id="pagination-wrap"></ul>
          </nav>
        </div>
        <footer id="ft">
          <p>Copyright &copy; noAFK All rights reserved.<br /></p>
        </footer>
      </div>
    </div>
    <script>
      const currentPage = '{{currentPage}}';
      const totalPages = '{{totalPages}}';
    </script>
    <script src="/./js/cookieSave.js"></script>
    <script src="/./js/admin/users.js"></script>
    <script src="/./js/usersPagination.js"></script>
  </body>
</html>
